module.exports = {

"[externals]/perf_hooks [external] (perf_hooks, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("perf_hooks", () => require("perf_hooks"));

module.exports = mod;
}}),
"[externals]/node:perf_hooks [external] (node:perf_hooks, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("node:perf_hooks", () => require("node:perf_hooks"));

module.exports = mod;
}}),
"[externals]/express [external] (express, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("express", () => require("express"));

module.exports = mod;
}}),
"[externals]/fs/promises [external] (fs/promises, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("fs/promises", () => require("fs/promises"));

module.exports = mod;
}}),
"[externals]/net [external] (net, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("net", () => require("net"));

module.exports = mod;
}}),
"[externals]/crypto [external] (crypto, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}}),
"[externals]/process [external] (process, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("process", () => require("process"));

module.exports = mod;
}}),
"[externals]/buffer [external] (buffer, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("buffer", () => require("buffer"));

module.exports = mod;
}}),
"[externals]/fs [external] (fs, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}}),
"[externals]/node:crypto [external] (node:crypto, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("node:crypto", () => require("node:crypto"));

module.exports = mod;
}}),
"[externals]/node:async_hooks [external] (node:async_hooks, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("node:async_hooks", () => require("node:async_hooks"));

module.exports = mod;
}}),
"[externals]/async_hooks [external] (async_hooks, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("async_hooks", () => require("async_hooks"));

module.exports = mod;
}}),
"[externals]/events [external] (events, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("events", () => require("events"));

module.exports = mod;
}}),
"[externals]/os [external] (os, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("os", () => require("os"));

module.exports = mod;
}}),
"[externals]/child_process [external] (child_process, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("child_process", () => require("child_process"));

module.exports = mod;
}}),
"[externals]/util [external] (util, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("util", () => require("util"));

module.exports = mod;
}}),
"[externals]/require-in-the-middle [external] (require-in-the-middle, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("require-in-the-middle", () => require("require-in-the-middle"));

module.exports = mod;
}}),
"[externals]/import-in-the-middle [external] (import-in-the-middle, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("import-in-the-middle", () => require("import-in-the-middle"));

module.exports = mod;
}}),
"[externals]/http [external] (http, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("http", () => require("http"));

module.exports = mod;
}}),
"[externals]/https [external] (https, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("https", () => require("https"));

module.exports = mod;
}}),
"[externals]/zlib [external] (zlib, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("zlib", () => require("zlib"));

module.exports = mod;
}}),
"[externals]/stream [external] (stream, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}}),
"[externals]/tls [external] (tls, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("tls", () => require("tls"));

module.exports = mod;
}}),
"[externals]/http2 [external] (http2, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("http2", () => require("http2"));

module.exports = mod;
}}),
"[externals]/dns [external] (dns, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("dns", () => require("dns"));

module.exports = mod;
}}),
"[externals]/dgram [external] (dgram, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("dgram", () => require("dgram"));

module.exports = mod;
}}),
"[externals]/assert [external] (assert, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("assert", () => require("assert"));

module.exports = mod;
}}),
"[externals]/tty [external] (tty, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("tty", () => require("tty"));

module.exports = mod;
}}),
"[externals]/punycode [external] (punycode, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("punycode", () => require("punycode"));

module.exports = mod;
}}),
"[externals]/querystring [external] (querystring, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("querystring", () => require("querystring"));

module.exports = mod;
}}),
"[externals]/node:events [external] (node:events, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("node:events", () => require("node:events"));

module.exports = mod;
}}),
"[externals]/node:process [external] (node:process, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("node:process", () => require("node:process"));

module.exports = mod;
}}),
"[externals]/node:util [external] (node:util, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("node:util", () => require("node:util"));

module.exports = mod;
}}),
"[project]/src/ai/genkit.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "ai": (()=>ai)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$index$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/genkit/lib/index.mjs [app-rsc] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$genkit$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/genkit/lib/genkit.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$genkit$2d$ai$2f$google$2d$genai$2f$lib$2f$index$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/@genkit-ai/google-genai/lib/index.mjs [app-rsc] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$genkit$2d$ai$2f$google$2d$genai$2f$lib$2f$googleai$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@genkit-ai/google-genai/lib/googleai/index.js [app-rsc] (ecmascript)");
;
;
const ai = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$genkit$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["genkit"])({
    plugins: [
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$genkit$2d$ai$2f$google$2d$genai$2f$lib$2f$googleai$2f$index$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["googleAI"])()
    ],
    model: 'googleai/gemini-2.5-flash'
});
}}),
"[project]/src/ai/flows/book-recommendations.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
/* __next_internal_action_entry_do_not_use__ [{"40f4938581724926046a98ab530e6f2533e9adf213":"getBookRecommendations"},"",""] */ __turbopack_context__.s({
    "getBookRecommendations": (()=>getBookRecommendations)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$app$2d$render$2f$encryption$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/app-render/encryption.js [app-rsc] (ecmascript)");
/**
 * @fileOverview Provides book recommendations based on user's viewed and reviewed books.
 *
 * - getBookRecommendations - A function to retrieve book recommendations.
 * - BookRecommendationsInput - The input type for the getBookRecommendations function.
 * - BookRecommendationsOutput - The return type for the getBookRecommendations function.
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$genkit$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/ai/genkit.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$index$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/genkit/lib/index.mjs [app-rsc] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/genkit/lib/common.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js [app-rsc] (ecmascript)");
;
;
;
;
const BookRecommendationsInputSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].object({
    viewedBooks: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].object({
        title: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Title of the viewed book.'),
        author: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Author of the viewed book.'),
        genre: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Genre of the viewed book.'),
        description: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Description of the viewed book.')
    })).optional().describe('List of books the user has viewed.'),
    reviewedBooks: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].object({
        title: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Title of the reviewed book.'),
        author: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Author of the reviewed book.'),
        genre: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Genre of the reviewed book.'),
        description: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Description of the reviewed book.'),
        rating: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].number().describe('Rating given to the book by the user.'),
        reviewText: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Text review of the book by the user.')
    })).optional().describe('List of books the user has reviewed.')
});
const BookRecommendationsOutputSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].object({
    recommendations: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].array(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].object({
        title: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Title of the recommended book.'),
        author: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Author of the recommended book.'),
        genre: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Genre of the recommended book.'),
        description: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$genkit$2f$lib$2f$common$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["z"].string().describe('Description of the recommended book.')
    })).describe('List of recommended books based on viewed and reviewed books.')
});
async function getBookRecommendations(input) {
    return bookRecommendationsFlow(input);
}
const bookRecommendationsPrompt = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$genkit$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ai"].definePrompt({
    name: 'bookRecommendationsPrompt',
    input: {
        schema: BookRecommendationsInputSchema
    },
    output: {
        schema: BookRecommendationsOutputSchema
    },
    prompt: `You are a book recommendation expert. Based on the books the user has viewed and reviewed, you will provide a list of recommended books that the user might enjoy.

  Here are the books the user has viewed:
  {{#if viewedBooks}}
    {{#each viewedBooks}}
      - Title: {{this.title}}, Author: {{this.author}}, Genre: {{this.genre}}
    {{/each}}
  {{else}}
    The user has not viewed any books.
  {{/if}}

  Here are the books the user has reviewed:
  {{#if reviewedBooks}}
    {{#each reviewedBooks}}
      - Title: {{this.title}}, Author: {{this.author}}, Genre: {{this.genre}}, Rating: {{this.rating}}, Review: {{this.reviewText}}
    {{/each}}
  {{else}}
    The user has not reviewed any books.
  {{/if}}

  Please provide a list of 3 recommended books with their title, author, and genre in JSON format.  Do not recommend books that the user has already viewed or reviewed.
  Ensure that the recommendations are diverse and cover a range of interests based on the user's preferences.
  `,
    config: {
        safetySettings: [
            {
                category: 'HARM_CATEGORY_DANGEROUS_CONTENT',
                threshold: 'BLOCK_ONLY_HIGH'
            },
            {
                category: 'HARM_CATEGORY_HATE_SPEECH',
                threshold: 'BLOCK_ONLY_HIGH'
            }
        ]
    }
});
const bookRecommendationsFlow = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$genkit$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ai"].defineFlow({
    name: 'bookRecommendationsFlow',
    inputSchema: BookRecommendationsInputSchema,
    outputSchema: BookRecommendationsOutputSchema
}, async (input)=>{
    const { output } = await bookRecommendationsPrompt(input);
    return output;
});
;
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ensureServerEntryExports"])([
    getBookRecommendations
]);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(getBookRecommendations, "40f4938581724926046a98ab530e6f2533e9adf213", null);
}}),
"[project]/src/lib/actions.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
/* __next_internal_action_entry_do_not_use__ [{"40db09e6dfdfdbe4641e0d1196528f8727be777798":"handleGetRecommendations"},"",""] */ __turbopack_context__.s({
    "handleGetRecommendations": (()=>handleGetRecommendations)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$app$2d$render$2f$encryption$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/app-render/encryption.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$flows$2f$book$2d$recommendations$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/ai/flows/book-recommendations.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js [app-rsc] (ecmascript)");
;
;
;
async function handleGetRecommendations(input) {
    try {
        const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$ai$2f$flows$2f$book$2d$recommendations$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getBookRecommendations"])(input);
        return result;
    } catch (error) {
        console.error("Error fetching book recommendations:", error);
        return {
            recommendations: []
        };
    }
}
;
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$validate$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["ensureServerEntryExports"])([
    handleGetRecommendations
]);
(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$server$2d$reference$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerServerReference"])(handleGetRecommendations, "40db09e6dfdfdbe4641e0d1196528f8727be777798", null);
}}),
"[project]/.next-internal/server/app/books/[id]/page/actions.js { ACTIONS_MODULE0 => \"[project]/src/lib/actions.ts [app-rsc] (ecmascript)\" } [app-rsc] (server actions loader, ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({});
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/actions.ts [app-rsc] (ecmascript)");
;
}}),
"[project]/.next-internal/server/app/books/[id]/page/actions.js { ACTIONS_MODULE0 => \"[project]/src/lib/actions.ts [app-rsc] (ecmascript)\" } [app-rsc] (server actions loader, ecmascript) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({});
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/actions.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$books$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$src$2f$lib$2f$actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i('[project]/.next-internal/server/app/books/[id]/page/actions.js { ACTIONS_MODULE0 => "[project]/src/lib/actions.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <locals>');
}}),
"[project]/.next-internal/server/app/books/[id]/page/actions.js { ACTIONS_MODULE0 => \"[project]/src/lib/actions.ts [app-rsc] (ecmascript)\" } [app-rsc] (server actions loader, ecmascript) <exports>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "40db09e6dfdfdbe4641e0d1196528f8727be777798": (()=>__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["handleGetRecommendations"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/actions.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$books$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$src$2f$lib$2f$actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i('[project]/.next-internal/server/app/books/[id]/page/actions.js { ACTIONS_MODULE0 => "[project]/src/lib/actions.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <locals>');
}}),
"[project]/.next-internal/server/app/books/[id]/page/actions.js { ACTIONS_MODULE0 => \"[project]/src/lib/actions.ts [app-rsc] (ecmascript)\" } [app-rsc] (server actions loader, ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "40db09e6dfdfdbe4641e0d1196528f8727be777798": (()=>__TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$books$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$src$2f$lib$2f$actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$exports$3e$__["40db09e6dfdfdbe4641e0d1196528f8727be777798"])
});
var __TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$books$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$src$2f$lib$2f$actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i('[project]/.next-internal/server/app/books/[id]/page/actions.js { ACTIONS_MODULE0 => "[project]/src/lib/actions.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <module evaluation>');
var __TURBOPACK__imported__module__$5b$project$5d2f2e$next$2d$internal$2f$server$2f$app$2f$books$2f5b$id$5d2f$page$2f$actions$2e$js__$7b$__ACTIONS_MODULE0__$3d3e$__$225b$project$5d2f$src$2f$lib$2f$actions$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$2922$__$7d$__$5b$app$2d$rsc$5d$__$28$server__actions__loader$2c$__ecmascript$29$__$3c$exports$3e$__ = __turbopack_context__.i('[project]/.next-internal/server/app/books/[id]/page/actions.js { ACTIONS_MODULE0 => "[project]/src/lib/actions.ts [app-rsc] (ecmascript)" } [app-rsc] (server actions loader, ecmascript) <exports>');
}}),
"[project]/src/app/favicon.ico.mjs { IMAGE => \"[project]/src/app/favicon.ico (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/favicon.ico.mjs { IMAGE => \"[project]/src/app/favicon.ico (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript)"));
}}),
"[project]/src/app/layout.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/layout.tsx [app-rsc] (ecmascript)"));
}}),
"[project]/src/lib/data.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "addBook": (()=>addBook),
    "addReview": (()=>addReview),
    "books": (()=>books),
    "deleteBook": (()=>deleteBook),
    "deleteReview": (()=>deleteReview),
    "getAverageRating": (()=>getAverageRating),
    "getBookById": (()=>getBookById),
    "getBooks": (()=>getBooks),
    "getBooksByUser": (()=>getBooksByUser),
    "getGenres": (()=>getGenres),
    "getReviewsByUser": (()=>getReviewsByUser),
    "getReviewsForBook": (()=>getReviewsForBook),
    "getUserById": (()=>getUserById),
    "reviews": (()=>reviews),
    "updateBook": (()=>updateBook),
    "updateReview": (()=>updateReview),
    "updateUser": (()=>updateUser),
    "users": (()=>users)
});
let users = [
    {
        id: '1',
        name: 'Alice Johnson',
        username: 'alicej',
        email: 'alice@example.com',
        country: 'USA',
        profilePhoto: `https://api.dicebear.com/8.x/initials/svg?seed=Alice%20Johnson`
    },
    {
        id: '2',
        name: 'Bob Smith',
        username: 'bobsmith',
        email: 'bob@example.com',
        country: 'Canada',
        profilePhoto: ''
    },
    {
        id: '3',
        name: 'Charlie Brown',
        username: 'charlieb',
        email: 'charlie@example.com',
        country: 'UK',
        profilePhoto: ''
    }
];
let books = [
    {
        id: '1',
        title: 'The Great Gatsby',
        author: 'F. Scott Fitzgerald',
        description: 'A novel about the American dream.',
        genre: 'Fiction',
        year: 1925,
        addedBy: '1',
        coverImage: 'https://picsum.photos/seed/book1/400/600'
    },
    {
        id: '2',
        title: 'To Kill a Mockingbird',
        author: 'Harper Lee',
        description: 'A novel about racial injustice in the American South.',
        genre: 'Fiction',
        year: 1960,
        addedBy: '2',
        coverImage: 'https://picsum.photos/seed/book2/400/600'
    },
    {
        id: '3',
        title: '1984',
        author: 'George Orwell',
        description: 'A dystopian novel about totalitarianism.',
        genre: 'Science Fiction',
        year: 1949,
        addedBy: '1',
        coverImage: 'https://picsum.photos/seed/book3/400/600'
    },
    {
        id: '4',
        title: 'The Catcher in the Rye',
        author: 'J.D. Salinger',
        description: 'A novel about teenage angst and alienation.',
        genre: 'Fiction',
        year: 1951,
        addedBy: '3',
        coverImage: 'https://picsum.photos/seed/book4/400/600'
    },
    {
        id: '5',
        title: 'The Lord of the Rings',
        author: 'J.R.R. Tolkien',
        description: 'An epic high-fantasy novel.',
        genre: 'Fantasy',
        year: 1954,
        addedBy: '2',
        coverImage: 'https://picsum.photos/seed/book5/400/600'
    },
    {
        id: '6',
        title: 'Dune',
        author: 'Frank Herbert',
        description: 'A landmark science fiction novel.',
        genre: 'Science Fiction',
        year: 1965,
        addedBy: '1',
        coverImage: 'https://picsum.photos/seed/book6/400/600'
    },
    {
        id: '7',
        title: 'Sapiens: A Brief History of Humankind',
        author: 'Yuval Noah Harari',
        description: 'A book about the history of humankind.',
        genre: 'Non-Fiction',
        year: 2011,
        addedBy: '3',
        coverImage: 'https://picsum.photos/seed/book7/400/600'
    },
    {
        id: '8',
        title: 'Pride and Prejudice',
        author: 'Jane Austen',
        description: 'A classic romance novel.',
        genre: 'Romance',
        year: 1813,
        addedBy: '1',
        coverImage: 'https://picsum.photos/seed/book8/400/600'
    },
    {
        id: '9',
        title: 'The Hobbit',
        author: 'J.R.R. Tolkien',
        description: 'A fantasy novel and prequel to The Lord of the Rings.',
        genre: 'Fantasy',
        year: 1937,
        addedBy: '2',
        coverImage: 'https://picsum.photos/seed/book9/400/600'
    },
    {
        id: '10',
        title: 'Brave New World',
        author: 'Aldous Huxley',
        description: 'A dystopian novel about a future society.',
        genre: 'Science Fiction',
        year: 1932,
        addedBy: '3',
        coverImage: 'https://picsum.photos/seed/book10/400/600'
    },
    {
        id: '11',
        title: 'The Hitchhiker\'s Guide to the Galaxy',
        author: 'Douglas Adams',
        description: 'A comedic science fiction series.',
        genre: 'Science Fiction',
        year: 1979,
        addedBy: '1',
        coverImage: 'https://picsum.photos/seed/book11/400/600'
    },
    {
        id: '12',
        title: 'The Martian',
        author: 'Andy Weir',
        description: 'A science fiction novel about an astronaut stranded on Mars.',
        genre: 'Science Fiction',
        year: 2011,
        addedBy: '2',
        coverImage: 'https://picsum.photos/seed/book12/400/600'
    },
    {
        id: '13',
        title: 'Educated: A Memoir',
        author: 'Tara Westover',
        description: 'A memoir about a woman who leaves her survivalist family to get an education.',
        genre: 'Non-Fiction',
        year: 2018,
        addedBy: '3',
        coverImage: 'https://picsum.photos/seed/book13/400/600'
    },
    {
        id: '14',
        title: 'The Alchemist',
        author: 'Paulo Coelho',
        description: 'A philosophical book about following your dreams.',
        genre: 'Fantasy',
        year: 1988,
        addedBy: '1',
        coverImage: 'https://picsum.photos/seed/book14/400/600'
    },
    {
        id: '15',
        title: 'The Girl with the Dragon Tattoo',
        author: 'Stieg Larsson',
        description: 'A psychological thriller.',
        genre: 'Thriller',
        year: 2005,
        addedBy: '2',
        coverImage: 'https://picsum.photos/seed/book15/400/600'
    },
    {
        id: '16',
        title: 'Gone Girl',
        author: 'Gillian Flynn',
        description: 'A thriller about a woman who disappears on her fifth wedding anniversary.',
        genre: 'Thriller',
        year: 2012,
        addedBy: '3',
        coverImage: 'https://picsum.photos/seed/book16/400/600'
    },
    {
        id: '17',
        title: 'The Hunger Games',
        author: 'Suzanne Collins',
        description: 'A dystopian novel about a televised fight to the death.',
        genre: 'Young Adult',
        year: 2008,
        addedBy: '1',
        coverImage: 'https://picsum.photos/seed/book17/400/600'
    },
    {
        id: '18',
        title: 'Harry Potter and the Sorcerer\'s Stone',
        author: 'J.K. Rowling',
        description: 'The first book in the epic fantasy series.',
        genre: 'Fantasy',
        year: 1997,
        addedBy: '2',
        coverImage: 'https://picsum.photos/seed/book18/400/600'
    },
    {
        id: '19',
        title: 'Atomic Habits',
        author: 'James Clear',
        description: 'A self-help book about building good habits and breaking bad ones.',
        genre: 'Self-Help',
        year: 2018,
        addedBy: '3',
        coverImage: 'https://picsum.photos/seed/book19/400/600'
    },
    {
        id: '20',
        title: 'The Power of Now',
        author: 'Eckhart Tolle',
        description: 'A guide to spiritual enlightenment.',
        genre: 'Self-Help',
        year: 1997,
        addedBy: '1',
        coverImage: 'https://picsum.photos/seed/book20/400/600'
    }
];
let reviews = [
    {
        id: '1',
        bookId: '1',
        userId: '2',
        rating: 5,
        reviewText: 'An absolute masterpiece!',
        createdAt: '2023-10-01'
    },
    {
        id: '2',
        bookId: '1',
        userId: '3',
        rating: 4,
        reviewText: 'Great read, very thought-provoking.',
        createdAt: '2023-10-02'
    },
    {
        id: '3',
        bookId: '2',
        userId: '1',
        rating: 5,
        reviewText: 'A timeless classic that everyone should read.',
        createdAt: '2023-10-03'
    },
    {
        id: '4',
        bookId: '3',
        userId: '2',
        rating: 5,
        reviewText: 'Scarily relevant even today.',
        createdAt: '2023-10-04'
    },
    {
        id: '5',
        bookId: '6',
        userId: '1',
        rating: 5,
        reviewText: 'The world-building is incredible.',
        createdAt: '2023-10-05'
    },
    {
        id: '6',
        bookId: '6',
        userId: '2',
        rating: 4,
        reviewText: 'A bit dense but worth it.',
        createdAt: '2023-10-06'
    },
    {
        id: '7',
        bookId: '7',
        userId: '3',
        rating: 5,
        reviewText: 'Changed the way I see the world.',
        createdAt: '2023-10-07'
    },
    {
        id: '8',
        bookId: '8',
        userId: '1',
        rating: 5,
        reviewText: 'A beautiful and witty romance.',
        createdAt: '2023-10-08'
    },
    {
        id: '9',
        bookId: '15',
        userId: '3',
        rating: 4,
        reviewText: 'A gripping and dark thriller.',
        createdAt: '2023-10-09'
    },
    {
        id: '10',
        bookId: '12',
        userId: '2',
        rating: 5,
        reviewText: 'Science and survival at its best. Couldn\'t put it down!',
        createdAt: '2023-10-10'
    },
    {
        id: '11',
        bookId: '1',
        userId: '1',
        rating: 4,
        reviewText: 'Enjoyed it, but the ending felt a bit rushed.',
        createdAt: '2023-11-15'
    },
    {
        id: '12',
        bookId: '2',
        userId: '2',
        rating: 5,
        reviewText: 'This book is a must-read for every generation.',
        createdAt: '2023-11-16'
    },
    {
        id: '13',
        bookId: '3',
        userId: '3',
        rating: 3,
        reviewText: 'A powerful message, but a bit dry for my taste.',
        createdAt: '2023-11-17'
    },
    {
        id: '14',
        bookId: '4',
        userId: '1',
        rating: 2,
        reviewText: 'I just couldn\'t connect with the protagonist.',
        createdAt: '2023-11-18'
    },
    {
        id: '15',
        bookId: '5',
        userId: '2',
        rating: 5,
        reviewText: 'An epic adventure that you\'ll get lost in.',
        createdAt: '2023-11-19'
    },
    {
        id: '16',
        bookId: '5',
        userId: '3',
        rating: 5,
        reviewText: 'Tolkien is a master storyteller.',
        createdAt: '2023-11-20'
    },
    {
        id: '17',
        bookId: '7',
        userId: '1',
        rating: 4,
        reviewText: 'A fascinating look at human history.',
        createdAt: '2023-11-21'
    },
    {
        id: '18',
        bookId: '8',
        userId: '2',
        rating: 4,
        reviewText: 'Mr. Darcy is everything!',
        createdAt: '2023-11-22'
    },
    {
        id: '19',
        bookId: '9',
        userId: '3',
        rating: 4,
        reviewText: 'A charming and delightful adventure.',
        createdAt: '2023-11-23'
    },
    {
        id: '20',
        bookId: '10',
        userId: '1',
        rating: 4,
        reviewText: 'A chilling vision of the future.',
        createdAt: '2023-11-24'
    },
    {
        id: '21',
        bookId: '11',
        userId: '2',
        rating: 5,
        reviewText: 'Hilarious and absurd in the best way possible.',
        createdAt: '2023-11-25'
    },
    {
        id: '22',
        bookId: '13',
        userId: '3',
        rating: 5,
        reviewText: 'Incredibly powerful and inspiring story.',
        createdAt: '2023-11-26'
    },
    {
        id: '23',
        bookId: '14',
        userId: '1',
        rating: 3,
        reviewText: 'A bit too philosophical for my liking, but beautifully written.',
        createdAt: '2023-11-27'
    },
    {
        id: '24',
        bookId: '16',
        userId: '2',
        rating: 5,
        reviewText: 'Twists and turns that will keep you on the edge of your seat!',
        createdAt: '2023-11-28'
    },
    {
        id: '25',
        bookId: '17',
        userId: '3',
        rating: 4,
        reviewText: 'A thrilling read, couldn\'t put it down.',
        createdAt: '2023-11-29'
    },
    {
        id: '26',
        bookId: '18',
        userId: '1',
        rating: 5,
        reviewText: 'The book that started it all. Pure magic.',
        createdAt: '2023-11-30'
    },
    {
        id: '27',
        bookId: '19',
        userId: '2',
        rating: 5,
        reviewText: 'Practical and actionable advice. Highly recommend.',
        createdAt: '2023-12-01'
    },
    {
        id: '28',
        bookId: '20',
        userId: '3',
        rating: 4,
        reviewText: 'A bit repetitive, but the core message is profound.',
        createdAt: '2023-12-02'
    },
    {
        id: '29',
        bookId: '12',
        userId: '1',
        rating: 4,
        reviewText: 'So much fun. Makes you want to be an astronaut.',
        createdAt: '2023-12-03'
    },
    {
        id: '30',
        bookId: '15',
        userId: '1',
        rating: 5,
        reviewText: 'Lisbeth Salander is an iconic character.',
        createdAt: '2023-12-04'
    }
];
const getBooks = async ()=>{
    // simulate network delay
    await new Promise((resolve)=>setTimeout(resolve, 500));
    return books;
};
const getBookById = async (id)=>{
    await new Promise((resolve)=>setTimeout(resolve, 200));
    return books.find((book)=>book.id === id);
};
const getReviewsForBook = async (bookId)=>{
    await new Promise((resolve)=>setTimeout(resolve, 300));
    return reviews.filter((review)=>review.bookId === bookId);
};
const getUserById = async (id)=>{
    await new Promise((resolve)=>setTimeout(resolve, 100));
    return users.find((user)=>user.id === id);
};
const getAverageRating = (bookId)=>{
    const bookReviews = reviews.filter((review)=>review.bookId === bookId);
    if (bookReviews.length === 0) return 0;
    const totalRating = bookReviews.reduce((acc, review)=>acc + review.rating, 0);
    const average = totalRating / bookReviews.length;
    // Round to one decimal place
    return Math.round(average * 10) / 10;
};
const getGenres = async ()=>{
    const genres = books.map((book)=>book.genre);
    return [
        ...new Set(genres)
    ];
};
const getBooksByUser = async (userId)=>{
    await new Promise((resolve)=>setTimeout(resolve, 200));
    return books.filter((book)=>book.addedBy === userId);
};
const getReviewsByUser = async (userId)=>{
    await new Promise((resolve)=>setTimeout(resolve, 200));
    return reviews.filter((review)=>review.userId === userId);
};
const addBook = async (book)=>{
    console.log('Adding book:', book);
    const newBook = {
        ...book,
        id: String(Date.now())
    };
    books.unshift(newBook);
    return newBook;
};
const updateBook = async (book)=>{
    console.log('Updating book:', book);
    const index = books.findIndex((b)=>b.id === book.id);
    if (index !== -1) {
        books[index] = book;
    }
    return book;
};
const deleteBook = async (id)=>{
    console.log('Deleting book:', id);
    const index = books.findIndex((b)=>b.id === id);
    if (index !== -1) {
        books.splice(index, 1);
    }
};
const addReview = async (review)=>{
    const existingReview = reviews.find((r)=>r.bookId === review.bookId && r.userId === review.userId);
    if (existingReview) {
        throw new Error("You have already reviewed this book.");
    }
    console.log('Adding review:', review);
    const newReview = {
        ...review,
        id: String(Date.now()),
        createdAt: new Date().toISOString().split('T')[0]
    };
    reviews = [
        newReview,
        ...reviews
    ];
    return newReview;
};
const updateReview = async (review)=>{
    console.log('Updating review:', review);
    const index = reviews.findIndex((r)=>r.id === review.id);
    if (index !== -1) {
        reviews[index] = review;
    }
    return review;
};
const deleteReview = async (id)=>{
    console.log('Deleting review:', id);
    const index = reviews.findIndex((r)=>r.id === id);
    if (index !== -1) {
        reviews.splice(index, 1);
    }
};
const updateUser = async (user)=>{
    console.log('Updating user:', user);
    const index = users.findIndex((u)=>u.id === user.id);
    if (index !== -1) {
        users[index] = {
            ...users[index],
            ...user
        };
        return users[index];
    }
    // In a real app, you'd probably throw an error.
    // For this demo, we'll add the user if they don't exist.
    users.push(user);
    return user;
};
}}),
"[project]/src/components/books/BookDetailsClient.tsx (client reference/proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/components/books/BookDetailsClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/components/books/BookDetailsClient.tsx <module evaluation>", "default");
}}),
"[project]/src/components/books/BookDetailsClient.tsx (client reference/proxy)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/components/books/BookDetailsClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/components/books/BookDetailsClient.tsx", "default");
}}),
"[project]/src/components/books/BookDetailsClient.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$books$2f$BookDetailsClient$2e$tsx__$28$client__reference$2f$proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/components/books/BookDetailsClient.tsx (client reference/proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$books$2f$BookDetailsClient$2e$tsx__$28$client__reference$2f$proxy$29$__ = __turbopack_context__.i("[project]/src/components/books/BookDetailsClient.tsx (client reference/proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$books$2f$BookDetailsClient$2e$tsx__$28$client__reference$2f$proxy$29$__);
}}),
"[project]/src/app/books/[id]/page.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>BookDetailsPage),
    "generateMetadata": (()=>generateMetadata)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/data.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$api$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/next/dist/api/navigation.react-server.js [app-rsc] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/client/components/navigation.react-server.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$books$2f$BookDetailsClient$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/books/BookDetailsClient.tsx [app-rsc] (ecmascript)");
;
;
;
;
async function generateMetadata({ params }) {
    const id = params.id;
    const book = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getBookById"])(id);
    return {
        title: book ? `${book.title} by ${book.author}` : 'Book Not Found'
    };
}
async function BookDetailsPage({ params }) {
    const book = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getBookById"])(params.id);
    if (!book) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$components$2f$navigation$2e$react$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["notFound"])();
    }
    const initialReviews = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getReviewsForBook"])(book.id);
    const initialAverageRating = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getAverageRating"])(book.id);
    const addedByUser = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getUserById"])(book.addedBy);
    const reviewsWithUser = await Promise.all(initialReviews.map(async (review)=>{
        const user = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getUserById"])(review.userId);
        return {
            ...review,
            user: user || null
        };
    }));
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$books$2f$BookDetailsClient$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
        book: book,
        initialReviews: reviewsWithUser,
        initialAverageRating: initialAverageRating,
        addedByUser: addedByUser ?? null
    }, void 0, false, {
        fileName: "[project]/src/app/books/[id]/page.tsx",
        lineNumber: 36,
        columnNumber: 5
    }, this);
}
}}),
"[project]/src/app/books/[id]/page.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/books/[id]/page.tsx [app-rsc] (ecmascript)"));
}}),

};

//# sourceMappingURL=%5Broot-of-the-server%5D__47089b0e._.js.map